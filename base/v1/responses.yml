components:
  schemas:
    Collection20xResponse:
      description: Valid create request
      content:
        application/json:
          schema:
            type: object
            required:
              - message
            properties:
              message:
                type: string
    400Response:
      description: Invalid request
      content:
        application/json:
          schema:
            oneOf:
              - $ref: "#/components/schemas/ErrorResponseInvalidJson"
              - $ref: "#/components/schemas/ErrorResponseMissingRequiredProperties"
              - $ref: "#/components/schemas/ErrorResponseInvalidProperties"
    401Response:
      description: Auth header not provided
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponseAuthNotProvided"
    403Response:
      description: Not authorized
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponseNotAuthorized"
    503Response:
      description: Internal server error on DB insertion
      content:
        application/json:
          schema:
            type: object
            required:
              - error_message
              - error_code
            properties:
              error_message:
                type: object
              error_code:
                type: number
    Evaluation200Response:
      description: Order successfully evaluated
      content:
        application/json:
          schema:
            type: object
            required:
              - legiti_decision
            properties:
              legiti_decision:
                type:
                  $ref: "./enums.yml#/components/schemas/LegitiDecision"
                description: >-
                  Legiti's suggestion for treating this order. Will be one of: ["approve", "reject", "manual" or "unavailable"].
                  Note that "manual" will only be returned for Legiti customers that have an existing manual analysis flow, and 
                  "unavailable" will only be returned in the case that your company is in the pilot phase of its Legiti integration.
              message:
                type: string
                description: Optional field used to provide further information on `legiti_decision`.
    ErrorResponseInvalidJson:
      type: object
      description: Request body contains invalid JSON
      required:
        - error_message
        - error_code
      properties:
        error_message:
          type: string
        error_code:
          type: number
    ErrorResponseMissingRequiredProperties:
      type: object
      description: Request is missing required properties
      required:
        - error_message
        - error_code
      properties:
        error_message:
          type: object
        error_code:
          type: number
    ErrorResponseInvalidProperties:
      type: object
      description: Request contains properties with incorrect types
      required:
        - error_message
        - error_code
      properties:
        error_message:
          type: object
        error_code:
          type: number
    ErrorResponseAuthNotProvided:
      type: object
      description: Authorization header not present in request
      required:
        - message
      properties:
        message:
          type: string
    ErrorResponseNotAuthorized:
      type: object
      description: Provided API token not authorized to access this resource
      required:
        - Message
      properties:
        Message:
          type: string